"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getStories = void 0;
var names_1 = require("./names");
var project_1 = require("./project");
function getStories(component, projectPath) {
    var componentName = (0, names_1.getComponentName)(component);
    return component
        .getSourceFile()
        .getReferencingSourceFiles()
        .filter(function (sourceFile) {
        var isStoriesFile = (0, project_1.isStory)(sourceFile);
        var importDeclaration = sourceFile.getImportDeclaration(function (ele) {
            var importedComponents = (0, names_1.getComponentNamesPerImport)(ele);
            return importedComponents.some(function (entityName) { return entityName === componentName; });
        });
        return isStoriesFile === true && importDeclaration !== undefined;
    })
        .map(function (sourceFile) { return (0, names_1.getPathRelativeToRoot)(sourceFile, projectPath); });
}
exports.getStories = getStories;
