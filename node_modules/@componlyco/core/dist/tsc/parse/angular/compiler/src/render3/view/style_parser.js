"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.hyphenate = exports.parse = void 0;
function parse(value) {
    var styles = [];
    var i = 0;
    var parenDepth = 0;
    var quote = 0;
    var valueStart = 0;
    var propStart = 0;
    var currentProp = null;
    while (i < value.length) {
        var token = value.charCodeAt(i++);
        switch (token) {
            case 40:
                parenDepth++;
                break;
            case 41:
                parenDepth--;
                break;
            case 39:
                if (quote === 0) {
                    quote = 39;
                }
                else if (quote === 39 && value.charCodeAt(i - 1) !== 92) {
                    quote = 0;
                }
                break;
            case 34:
                if (quote === 0) {
                    quote = 34;
                }
                else if (quote === 34 && value.charCodeAt(i - 1) !== 92) {
                    quote = 0;
                }
                break;
            case 58:
                if (!currentProp && parenDepth === 0 && quote === 0) {
                    currentProp = hyphenate(value.substring(propStart, i - 1).trim());
                    valueStart = i;
                }
                break;
            case 59:
                if (currentProp && valueStart > 0 && parenDepth === 0 && quote === 0) {
                    var styleVal = value.substring(valueStart, i - 1).trim();
                    styles.push(currentProp, styleVal);
                    propStart = i;
                    valueStart = 0;
                    currentProp = null;
                }
                break;
        }
    }
    if (currentProp && valueStart) {
        var styleVal = value.slice(valueStart).trim();
        styles.push(currentProp, styleVal);
    }
    return styles;
}
exports.parse = parse;
function hyphenate(value) {
    return value
        .replace(/[a-z][A-Z]/g, function (v) {
        return v.charAt(0) + '-' + v.charAt(1);
    })
        .toLowerCase();
}
exports.hyphenate = hyphenate;
